<!DOCTYPE html>
<html lang="pt-br" data-bs-color-scheme="dark">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link href="css/bootstrap-blackbox.css" rel="stylesheet" />
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="img/JL-Nasa.ico"/>
    <title>Imagem do dia</title>

    <!-- Cheatsheet -->
    <link href="css/cheatsheet-nights.css" rel="stylesheet" />
    <style>
      .d-light-inline {
        display: inline !important;
      }
      .d-dark-inline {
        display: none !important;
      }
      [data-bs-color-scheme="dark"] .d-light-inline {
        display: none !important;
      }
      [data-bs-color-scheme="dark"] .d-dark-inline {
        display: inline !important;
      }
    </style>
  </head>
  <body>
    <header class="bd-header bg-dark py-3 d-flex align-items-stretch border-bottom border-dark" data-bs-color-scheme>
      <div class="container-fluid d-flex align-items-center">
        <img src="img/leo-logo.svg" class="me-3" alt="Bootstrap" />
        <!-- ***** ***** ***** THE BUTTON GOES BELOW HERE ***** ***** ***** -->
        <div class="btn-group ms-auto" role="group">
          <a id="darkmode-button" class="btn btn-outline-secondary"
            ><i
              class="fa fa-moon-o fa-fw d-none d-light-inline"
              title="Switch to dark mode"
            ></i
            ><i
              class="fa fa-sun-o fa-fw d-none d-dark-inline"
              title="Switch to light mode"
            ></i
          ></a>

          <div class="btn-group" role="group">
            <button
              id="btnGroupDrop1"
              type="button"
              class="btn btn-outline-secondary dropdown-toggle"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            ></button>
            <ul class="dropdown-menu" aria-labelledby="btnGroupDrop1">
              <li>
                <a id="darkmode-button-l-1" class="dropdown-item">Modo Light</a>
              </li>
              <li>
                <a id="darkmode-button-d-1" class="dropdown-item">Modo Dark</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </header>

    <section class="container-fluid text-center">
      <img class="jl img-fluid mt-3" src="img/JL-Nasaa.svg" alt="Imagem com meu nome com a logo Nasa">
      <h1 class="text-center mt-3">Imagem Astronómica do Dia</h1>
      <p class="text-center">
        Confira a imagem do dia fornecida pela Nasa, que foi selecionada
        cuidadosamente pela equipe da Nasa para proporcionar um vislumbre único
        do universo. Esta imagem oferece um vislumbre especial das maravilhas
        atemporais do espaço, e pode inspirar-nos a explorar ainda mais o
        universo. Esta imagem conta uma história única e especial, e é a prova
        de que a descoberta espacial continua a progredir.
      </p>

      <h3 id="titulo" class="mt-5"></h3>
      <p id="data"></p>
      <img id="imagem" class="img-fluid mx-auto" />
      <p id="direito"></p>
      <p id="descricao" class="mt-2"></p>
    </section>

    <footer class="text-center mt-5">
      <p>© Copyright 2023 | <a href="https://leodkvt.com.br" target="_blank">José Leonardo</a></p>
    </footer>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- DarkMode.js -->
    <script src="js/darkmode.js"></script>
    <script>
      document.querySelector("#darkmode-button").onclick = function (e) {
        darkmode.toggleDarkMode();
      };
      document.querySelector("#darkmode-button-l-1").onclick = function (e) {
        darkmode.setDarkMode(false); // save=true is default
      };
      document.querySelector("#darkmode-button-d-1").onclick = function (e) {
        darkmode.setDarkMode(true); // save=true is default
      };
      document.querySelector("#darkmode-button-l-2").onclick = function (e) {
        darkmode.setDarkMode(false, false);
      };
      document.querySelector("#darkmode-button-d-2").onclick = function (e) {
        darkmode.setDarkMode(true, false);
      };
      document.querySelector("#darkmode-forget").onclick = function (e) {
        darkmode.resetDarkMode();
      };
    </script>

    <script>
      async function apiNasa() {
        const dadosResponse = await fetch("https://api.nasa.gov/planetary/apod?api_key=twztaFNKwcYvElLpLcURmrUQxpYWUYWwCHc6WLhx");
        const dadosJSON = await dadosResponse.json();
        const titulo = document.getElementById("titulo");
        const direito = document.getElementById("direito");
        const descricao = document.getElementById("descricao");

        titulo.innerHTML = dadosJSON.title;
        direito.innerHTML = `Crédito e direitos autorais da ilustração: ${dadosJSON.copyright}`;
        document.getElementById("imagem").src = dadosJSON.url;
        data.innerHTML = dataDeHoje;
        descricao.innerHTML = `Descrição: ${dadosJSON.explanation}`;
        ttt.innerHTML = dataAtual;
      }
      apiNasa();
      
      /* Data do dia mes e ano */
      const date = new Date();
      const dia = date.getDate();
      const mes = date.getMonth();
      const ano = date.getFullYear();

      const nomeMeses = [
        "Janeiro",
        "Fevereiro",
        "Março",
        "Abril",
        "Maio",
        "Junho",
        "Julho",
        "Agosto",
        "Setembro",
        "Outubro",
        "Novembro",
        "Dezembro",
      ];
      const monthName = nomeMeses[mes];
      const dataDeHoje = dia + " de " + monthName + " de " + ano;
    </script>

    <!-- Cheatsheet -->
    <script src="js/cheatsheet.js"></script>
  </body>
</html>
